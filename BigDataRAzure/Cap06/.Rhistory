setwd("~/ProjetosCientistaDeDados/BigDataRAzure/Cap06")
install.packages("devtools")
library("devtools")
install_github("mongosoup/rmongodb", force = TRUE)
library(rmongodb)
mongo <- mongo.create()
mongo
mongo.is.connected(mongo)
if(mongo.is.connected(mongo) == TRUE) {
mongo.get.databases(mongo)
}
coll <- "users.contatos"
mongo.count(mongo, coll)
mongo.find.one(mongo, coll)
res <- mongo.distinct(mongo, coll, "city")
head(res)
pop <- mongo.distinct(mongo, coll, "pop")
hist(pop)
hist(pop)
nr <- mongo.count(mongo, coll, list('pop' = list('$lte' = 2)))
print( nr )
pops <- mongo.find.all(mongo, coll, list('pop' = list('$lte' = 2)))
head(pops, 2)
mongo.destroy(mongo)
library(jsonlite)
json_arquivo <- '{"pop":{"$lte":2}, "pop":{"$gte":1}}'
cat(prettify(json_arquivo))
validate(json_arquivo)
